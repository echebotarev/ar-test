<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="apple-mobile-web-app-capable" content="yes">

    <title>AR</title>

    <script src="https://aframe.io/releases/0.9.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/1.6.0/aframe/build/aframe-ar.js"></script>

    <script>
        AFRAME.registerComponent('registerevents', {
        	init: function () {
        	    let marker = this.el;
        	    console.log("MARKER", marker);

		        marker.addEventListener("markerFound", () => {
			        let markerId = marker.id;
			        console.log("markerFound", markerId);

			        // code to make video play and turn element visibility on.
			        // a_vid.setAttribute("visible", "true");
			        // vid.play();
		        });
		        marker.addEventListener("markerLost", () => {
			        let markerId = marker.id;
			        console.log("markerLost", markerId);

			        // code to make video pause and turn visibility off.
			        // vid.pause();
			        // a_vid.setAttribute("visible", "false");
		        });

        	    this.geometry = new THREE.PlaneBufferGeometry(1, 1, 2, 2);
        	}
        })
    </script>
</head>
<body style="margin: 0; overflow: hidden;">
<a-scene embedded arjs="debugUIEnabled: false; sourceType: webcam;">
    <a-assets>
        <video
            id="video"
            autoplay
            loop="true"
            src="assets/video/animal_planet.mp4"
            webkit-playsinline
        ></video>
    </a-assets>

    <!-- Using the asset management system. -->
    <a-video
        src="#video"
        position="0 0 0"
        rotation="-90 0 0"
    ></a-video>

    <a-marker-camera
        id="marker"
        preset="hiro"
        registerevents
    ></a-marker-camera>
</a-scene>
</body>
</html>
