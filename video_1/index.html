<DOCTYPE html>
    <html lang="ru">
    <head>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
        <script src="https://cdn.rawgit.com/jeromeetienne/AR.js/dev/aframe/build/aframe-ar.js"></script>
        <script>
            AFRAME.registerComponent('registerevents', {
                init: function () {
                    const marker = this.el;
                    marker.setAttribute('emitevents', true);

                    const vid = document.getElementById("test-video");
                    const a_vid = document.getElementById("a-video");

                    a_vid.setAttribute("visible", "false");

                    marker.addEventListener("markerFound", () => {
                        let markerId = marker.id;
                        console.log("markerFound", markerId);

                        // code to make video play and turn element visibility on.
                        a_vid.setAttribute("visible", "true");
                        vid.play();
                    });
                    marker.addEventListener("markerLost", () => {
                        let markerId = marker.id;
                        console.log("markerLost", markerId);

                        // code to make video pause and turn visibility off.
                        vid.pause();
                        a_vid.setAttribute("visible", "false");
                    });
                }
            });
        </script>
    </head>

    <body style='margin : 0px; overflow: hidden;'>
    <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
        <a-assets>
            <video id="test-video" src="../simple-test/assets/video/animal_planet.mp4" webkit-playsinline></video>
        </a-assets>
        <a-video id="a-video" src="#test-video" rotation="-70 0 0" position="0 0.1 -1" width="1.6"
                 height="0.9"></a-video>
        <a-marker-camera id="marker" preset="hiro" registerevents></a-marker-camera>
    </a-scene>
    </body>
    </html>
</DOCTYPE>
